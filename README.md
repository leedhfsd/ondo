# Ondo

<div align="center">
  <img src="./images/readMe/OnDo_로고.png" width="350px">
</div>

## 삼성 청년 SW아카데미(SSAFY) 11th 공통프로젝트

<div align="center">
  <img src="./images/readMe/OnDo.png" width="700px">
</div>

## ✅ 프로젝트 진행 기간

2024.07.02 ~ 2024.08.16

## ✅ 멤버소개

<table>
<thead>
<tr>
<th style="text-align: center;"><strong>이예빈</strong></th>
<th style="text-align: center;"><strong>김성은</strong></th>
<th style="text-align: center;"><strong>김영빈</strong></th>
<th style="text-align: center;"><strong>이대현</strong></th>
<th style="text-align: center;"><strong>이예지</strong></th>
<th style="text-align: center;"><strong>정유진</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://github.com/dpqls0356"><img src="https://avatars.githubusercontent.com/u/83651122?v=4" height="150" width="150" style="max-width: 100%;"> <br> @dpqls0356</a></td>
<td align="center"><a href="https://github.com/KSE0514"><img src="https://avatars.githubusercontent.com/u/156265560?s=400&v=4" height="150" width="150" style="max-width: 100%;"> <br> @KSE0514</a></td>
<td align="center"><a href="https://github.com/ybk1"><img src="https://avatars.githubusercontent.com/u/97382736?v=4" height="150" width="150" style="max-width: 100%;"> <br> @ybk1</a></td>
<td align="center"><a href="https://github.com/leedhfsd"><img src="https://avatars.githubusercontent.com/u/89757700?v=4" height="150" width="150" style="max-width: 100%;"> <br> @leedhfsd</a></td>
<td align="center"><a href="https://github.com/Sophia0705"><img src="https://avatars.githubusercontent.com/u/156265319?v=4" height="150" width="150" style="max-width: 100%;"> <br> @Sophia0705</a></td>
<td align="center"><a href="https://github.com/JYOOJIN"><img src="https://avatars.githubusercontent.com/u/69388421?s=400&v=4" height="150" width="150" style="max-width: 100%;"> <br> @JYOOJIN</a></td>
</tr>
<tr>
<td align="center"><b>팀장 | BE | FE</td>
<td align="center"><b>FE | DESIGN</td>
<td align="center"><b>BE</td>
<td align="center"><b>BE | INFRA</td>
<td align="center"><b>FE | DESIGN</td>
<td align="center"><b>BE </td>
</tr>
</tbody>
</table>

## ✅ 기술스택

<table>
    <tr>
        <td><b>Back-end</b></td>
        <td> <img src="https://img.shields.io/badge/SpringBoot_3.3.1-6DB33F?style=for-the-badge&logo=Spring Boot&logoColor=white"> <img src="https://img.shields.io/badge/Spring Data JPA-6DB33F?style=for-the-badge&logo=&logoColor=white"> <img src="https://img.shields.io/badge/Spring Security-6DB33F?style=for-the-badge&logo=Spring Security&logoColor=white"> <br> <img src="https://img.shields.io/badge/Spring Batch-6DB33F?style=for-the-badge&logo=&logoColor=white"><img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=Redis&logoColor=white"> <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"> <img src = "https://img.shields.io/badge/-MongoDB-13aa52?style=for-the-badge&logo=mongodb&logoColor=white"> <img src="https://img.shields.io/badge/AWS S3-569A31?style=for-the-badge&logo=amazons3&logoColor=white">
</td>
    </tr>
    <tr>
    <td><b>Front-end</b></td>
    <td>
<img src="https://img.shields.io/badge/Vite_5.3.1-646CFF?style=for-the-badge&logo=Vite&logoColor=white"> <img src="https://img.shields.io/badge/React_18.3.1-61DAFB?style=for-the-badge&logo=React&logoColor=white"> <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> <br>
<img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white">
 <img src="https://img.shields.io/badge/Tailwind CSS_3.4.4-06B6D4?style=for-the-badge&logo=Tailwind CSS&logoColor=white"> <img src="https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white"><img src="https://img.shields.io/badge/zustand-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB">

  </td>
    </tr>
    <tr>
    <td><b>Infra</b></td>
  <td>

<img src="https://img.shields.io/badge/AWS EC2-232F3E?style=for-the-badge&logo=Amazon AWS&logoColor=white"> <img src="https://img.shields.io/badge/Jenkins-D24939?style=for-the-badge&logo=Jenkins&logoColor=white"> <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white"> <img src="https://img.shields.io/badge/Docker Compose-2496ED?style=for-the-badge&logo=Docker&logoColor=white"> <img src="https://img.shields.io/badge/NGINX-009639?style=for-the-badge&logo=NGINX&logoColor=white"> <img src="https://img.shields.io/badge/SSL-000000?style=for-the-badge&logo=&logoColor=white">

</td>
    <tr>
    <td><b>Tools</b></td>
    <td>
    <img src="https://img.shields.io/badge/Git(Gitlab)-FCA121?style=for-the-badge&logo=Gitlab&logoColor=white"> <img src="https://img.shields.io/badge/Jira-0052CC?style=for-the-badge&logo=Jira&logoColor=white"> <img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white"> <img src="https://img.shields.io/badge/Mattermost-0058CC?style=for-the-badge&logo=Mattermost&logoColor=white"> <img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=Figma&logoColor=white">
</table>

## ✅ 시스템 아키텍쳐

![아키텍쳐](./images/readMe/ondo아키텍처_격자X.png)

## ✅ 프로젝트 소개

### **서비스 목적**

2023년 한국보건사회연구원 조사에 따르면, 19∼34세 청년 가운데 고립 청년의 비율은 2021년 기준 전체 청년의 5.0%, 약 53만8000명에 달한다고 한다. 이러한 은둔형 외톨이들은 일상생활의 특히 은둔형 외톨이 중 많은 사람들이 밥 먹기, 청소, 샤워 등 일상적인 루틴이 무너진 상태로 지내며, 이를 스스로 극복하기 어려워한다. Ondo는 이러한 사람들을 위해 일상 루틴을 되찾고 삶의 활기를 되찾을 수 있도록 도움을 주고자 시작하게된 프로젝트이다.

<br/>

### **서비스 목표**

**최종 목표 : 고립 청년 문제 해결 기여**

은둔형 외톨이들이 Ondo를 통해 스스로의 변화를 만들어가고 사회와 다시 연결될 수 있는 환경을 제공하여 고립 청년 문제 해결에 기여한다.

- **일상 루틴의 회복과 정착 지원**
  사용자가 작은 미션부터 시작해 꾸준히 일상적인 루틴을 쌓아가며 건강한 생활 습관을 되찾을 수 있도록 돕는 것을 목표로 한다.
- **심리적 안정과 전문적 지원 제공**
  상담 예약 기능을 통해 사용자가 자신의 고민과 문제를 상담할 수 있도록 하여 심리적 안정감을 제공하고, 필요한 경우 전문가의 도움을 받을 수 있도록 지원한다.
- **사회적 연결 촉진**
  커뮤니티 기능을 통해 사용자 간 소통을 촉진하고, 서로의 이야기를 공유하며 긍정적인 상호작용을 장려한다.
- **사용자 성장과 동기 부여**
  미션 수행을 통해 경험치를 획득하고 캐릭터를 성장시키는 게임화된 요소를 제공하여 사용자가 지속적으로 동기를 가지고 서비스에 참여할 수 있도록 한다.

<br/>

### **기대효과**

- **일상 회복 및 자립 능력 향상**
  Ondo를 통해 사용자는 작은 일상 미션을 반복 수행하며 식사, 청소, 샤워 등 무너졌던 일상 루틴을 점차 회복할 수 있다. 이러한 과정을 통해 자립 능력을 기르고, 스스로 일상을 관리할 수 있는 자신감을 얻게 된다.
- **정신적 안정 및 심리적 지원 제공**
  상담 예약 기능을 통해 전문적인 상담사의 도움을 받을 수 있어 사용자의 심리적 안정을 도모한다. 이를 통해 은둔형 외톨이들이 겪는 불안, 스트레스, 우울감 등 심리적 문제를 완화하는 데 기여한다.
- **사회적 연결 및 소통의 장 마련**
  커뮤니티 기능은 사용자 간의 소통을 촉진하고, 서로의 경험과 이야기를 나눌 수 있는 공간을 제공한다. 이를 통해 사회적 고립감을 완화하고, 서로의 도전을 응원하며 긍정적인 변화를 이끌어낼 수 있다고 기대한다.

## ✅ 기능 소개

### Member

<table>    
    <tr align="center"> 
        <td><strong> 회원가입 </strong></td>
        <td><strong> 로그인<br>(소셜 로그인 포함)</strong></td>
    </tr>
    <tr align="center"> 
        <td> <img src="./images/readMe/회원가입.gif" height="450"> </td>
        <td> <img src="./images/readMe/로그인.PNG" height="450"> </td>
        </td>
    </tr>
    <tr> 
    </tr>
    <tr align="center"> 
        <td><strong>애니메이션</strong></td>
        <td><strong>HOME</strong></td>
        <td><strong> 게시판 </strong></td>
    </tr>
    <tr align="center"> 
        <td> <img src="./images/readMe/애니메이션.gif" height="450"> </td>
        <td> <img src="./images/readMe/홈화면.gif" height="450"> </td>
            <td> <img src="./images/readMe/게시판.jpg" height="450"> </td>
    </tr>
    <tr> 
        <td >
            - 가입 후 들어갈 수 있는 애니메이션 페이지<br>
            -  이때 설정한 캐릭터 이름대로 다람이의 이름이 지어짐
        </td>
        <td>
            - 홈화면에서 반겨주는 다람이와 온도계
        </td>
        <td>
            - 마음의 이야기를 털어놓을 수 있는 게시판 <br>
        </td>
    </tr>
</table>

### OnDo Features

<table>    
    <tr align="center"> 
        <td><strong> 챗봇</strong></td>
        <td><strong> 상담예약</strong></td>
    </tr>
    <tr align="center"> 
        <td> <img src="./images/readMe/챗봇.gif" height="450"> </td>
        <td> <img src="./images/readMe/상담 예약.gif" height="450"> </td>
    </tr>
    <tr> 
        <td>
          - 매일 일정 시간에 오는 챗봇을 통해 미션 알림 <br>
          - 평소에도 언제든 다람이와 채팅
        </td>
        <td>
        - 전문가와의 상담을 할 수 있도록 예약 기능 구현 <br>
        </td>
    </tr>
    <tr align="center"> 
        <td><strong>미션</strong></td>
        <td><strong>미션 완료</strong></td>
    </tr>
    <tr align="center"> 
        <td> <img src="./images/readMe/미션.jpg" height="450"> </td>
        <td> <img src="./images/readMe/미션 완료.jpg" height="450"> </td>
    </tr>
    <tr> 
        <td >
            - 매일 다람이가 주는 특별 미션(챗봇으로 알림)<br>
            - 매일 간단한 일상 회복을 돕는 데일리 미션
        </td>
        <td>
            - 미션 완료를 통해 포인트를 얻고, 다람이의 온도를 높일 수 있음
        </td>
    </tr>
    
</table>

<table>    
    <tr align="center"> 
        <td><strong> 상담사 일정관리</strong></td>
    </tr>
    <tr align="center"> 
        <td> <img src="./images/readMe/상담사_일정관리.png" height="450"> </td>
    </tr>
    <tr> 
        <td>
          - 요일별로 상담이 가능한 시간 조정 가능 <br>
        </td>
    </tr>
    <tr>
        <tr align="center"> 
        <td><strong> 상담사 상담 내역 확인/수정</strong></td>
    </tr>
    <tr align="center"> 
        <td> <img src="./images/readMe/상담사_상담내역확인.png" height="450"> </td>
    </tr>
    <tr> 
        <td>
          - 내담자의 상담 내역을 확인하고 수정 <br>
        </td>
    </tr>


    
</table>


## ✅ 활용기술, 기술 설명

- **다람이 Chat bot**

  1. OpenAI API를 활용해 마스코트와 대화하는 듯한 대화를 자동 생성
  2. 특정 사용자의 대화내용이 필요한 상황에서 MongoDB를 사용해 Document 단위로 조회하여 성능 개선

  ```java
  WebClient webClient = WebClient.builder().build();
  String url = "https://api.openai.com/v1/chat/completions";

  webClient.post()
    .uri(url)
    .header("Content-Type", "application/json")
    .header("Authorization", "Bearer " + api)
    .bodyValue(dto)
    .retrieve()
    .toEntity(ChatCompletion.class)
    .block();
  ```

- **알림**

  1. 주기적인 알림을 구현하기 위한 Scheduling 사용
  2. 대규모 사용자 처리를 위해 Spring Batch를 적용
  3. Firebase Cloud Message를 사용해 기기단위 알림 서비스 제공

  ```java
  private final String[] SCOPES = {"https://www.googleapis.com/auth/firebase.messaging"};

  public String getAccessToken() throws IOException {
  	ClassPathResource resource = new ClassPathResource("firebase.json");

  	GoogleCredentials googleCredentials = GoogleCredentials
  		.fromStream(resource.getInputStream())
  		.createScoped(Arrays.asList(SCOPES));
  	googleCredentials.refreshIfExpired();  // refreshIfExpired로 토큰 갱신
  	googleCredentials.refreshAccessToken();
  	return googleCredentials.getAccessToken().getTokenValue();
  }
  ```

- **회원**

  1. Spring Security를 사용한 회원 관리 기능 구현
  2. Redis를 사용한 Expire 유효 기간 설정
  3. 클라이언트의 Cookie에 토큰을 저장하고 사용하도록 구현

- **WebRTC**
  1. OpenVidu를 기반으로 한 상담사와의 실시간 화상 상담 기능 구현
  2. MediaPipe를 통해서 안면 인식을 하고 자동으로 캐릭터로 덧씌워주는 기능을 구현
  ```javascript
  const camera = new Camera(videoRef.current, {
    onFrame: async () => {
      await faceMesh.send({ image: videoRef.current });
    },
    width: 640,
    height: 480,
  });
  camera.start();
  ```

## ✅ 산출물(ERD, 명세서, 파일구조)

### ERD

<div style="display: flex; justify-content: space-between;">
    <img src="./images/readMe/ONDO_ERD.png" alt="ERD" style="width: 100%;">
</div>

### 명세서

- **요구사항, 기능 명세서**

  [https://www.notion.so/b7da75e62bba4010bb199bb8d6f3d63c?pvs=4](https://www.notion.so/b7da75e62bba4010bb199bb8d6f3d63c?pvs=4)

- **API 명세서**

  [https://www.notion.so/API-Reference-e67a43dfcf5c49e084a72192bebda2c6?pvs=4](https://www.notion.so/API-Reference-e67a43dfcf5c49e084a72192bebda2c6?pvs=4)

</details>

## ✅ 결과공유, 느낀점

이예빈: 백엔드와 프론트 모두를 담당해 openvidu를 활용하여 화상채팅을 구현해보면서 전체적인 과정을 공부할 수 있던 계기가 되었다. 그리고 처음으로 제대로된 팀 프로젝트를 진행해보았는데 시간이 부족할 것 같다라는 이유로 개발을 진행하면서 세부적인 부분을 정하는 때가 많았다. 하지만 이렇게 되니 오히려 개발하다가 이야기를 하는데 많은 시간을 할애하는 상황이 와서 개발 전 기획과 계획을 탄탄하게 하는 것이 좀 더 낫지않을까? 라는 생각이 들었다.

김성은: React.JS 프로젝트는 처음이라 서툴렀지만, 많은 것을 배울 수 있었습니다. 특히 PWA로 앱과 비슷한 경험을 제공할 수 있다는 점이 인상 깊었습니다. UTC와 관련된 시간 차이 오류를 해결하며 시간 데이터 처리에 대해 배웠고, 요일별 일정 타임테이블 구현 중 출력 순서 문제도 해결해 작업 프로세스의 중요성을 깨달았습니다. 이번 경험은 기술적 성장과 문제 해결 역량을 키울 수 있었던 의미 있는 시간이었습니다.

김영빈: 많은 것을 배울 수 있는 기회가 되었습니다. 특히 프로젝트의 방향성에 대해서 팀원들과 논의하고 고민했던 것이 정말 좋은 경험이었습니다. 여기서 얻어간 기술과 노하우로 더욱 발전하는 사람이 되도록 노력하겠습니다.

이대현: 처음 해보는 것들 투성이라 힘들지만 배우는게 많았던 것 같습니다. 스프링 시큐리티와 AWS EC2 서버에 직접 수동 배포도 해보고, 발전해서 Jenkins를 이용한 CI / CD까지.. 다들 감사합니다.

이예지: 일정관리와 기획의 중요성에 대해 많이 느꼈고, 다음 프로젝트를 하면서 일정 관리에 조금 더 신경쓰고 있습니다. 그래도 처음이라 모든 게 어려울 때, 팀원들이 다 같이 도와줘서 기술적으로도 팀 프로젝트라는 관점에서도 배우는 게 많았습니다.

정유진: JPA, MongoDB 등 처음 배우는 기술들이 많아서 힘들었지만, 그만큼 많은 것을 배웠고 의미 있는 시간이었습니다. 팀원 모두가 더 나은 기능을 위해 회의를 거듭했던 것이 기억에 많이 남는데, 남과 협력하고 부딪히며 최선의 결과를 내는 방법을 배울 수 있어 좋았습니다. 

## ✅ ❤온도팀 사진❤

|                          첫 회식                           |                          마지막 회식                           |
| :--------------------------------------------------------: | :------------------------------------------------------------: |
| ![첫 회식](./images/readMe/clio_1.JPG) | ![마지막 회식](./images/readMe/clio_2.JPG) |
